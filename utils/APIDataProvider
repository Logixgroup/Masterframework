package com.framework.utils;

import org.testng.annotations.DataProvider;
import java.util.List;
import java.util.Map;

public final class APIDataProvider {

    private APIDataProvider() {}

    @DataProvider(name = "jsonData")
    public static Object[] getAPIData(Method method) {
        String filePath = System.getProperty("user.dir") + "/src/test/resources/apiData/" + method.getName() + ".json";

        List<Map<String, Object>> dataList =
                (List<Map<String, Object>>) JsonUtils.jsonToMap(filePath).get("data");

        return dataList.toArray();
    }
}
